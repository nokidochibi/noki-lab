<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>„ÅÆ„Åçüå≥„É©„Éú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- ÂàùÊúü„Ç¢„Ç§„Ç≥„É≥ -->
    <link rel="apple-touch-icon" id="app-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==" />
    
    <style>
        /* „Çπ„ÇØ„É≠„Éº„É´Âà∂Âæ° */
        body { 
            overscroll-behavior-y: none; /* „Éç„Ç§„ÉÜ„Ç£„Éñ„ÅÆ„Éê„Ç¶„É≥„Çπ„ÇíÁÑ°ÂäπÂåñ */
            background-color: #faf9f6;
        }
        
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 10s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin-fast { animation: spin 0.7s linear infinite; }
        
        /* Loading Text Animation */
        @keyframes fadeText {
            0% { opacity: 0; transform: translateY(5px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-5px); }
        }
        .animate-text-cycle {
            animation: fadeText 2s ease-in-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        //  Ë®≠ÂÆö
        // ==========================================
        const GAS_API_URL = "https://script.google.com/macros/s/AKfycby7BcugkEngRyjAM5Gkhs_csL0Ei6ngLK7B0KB0u5atQ1vmp-4y6JoeJEDZJAZpN9P0cA/exec"; 
        const GITHUB_REPO = "nokidochibi/noki-lab";

        // --- URL Converter ---
        const convertDriveUrl = (url) => {
            if (!url) return '';
            if (url.includes('export=view')) return url;
            const match = url.match(/\/file\/d\/([^\/]+)/) || url.match(/\/d\/([^\/]+)/) || url.match(/id=([^&]+)/);
            if (match) {
                const id = match[1];
                return `https://drive.google.com/uc?export=view&id=${id}`;
            }
            return url;
        };

        // --- Icons ---
        const XIcon = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor" className={className}><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231 5.45-6.231h.001Zm-1.161 17.52h1.833L7.084 4.126H5.117z" /></svg>);
        const TwitCastingIcon = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor" className={className}><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" /></svg>);
        const Instagram = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>);
        const ExternalLink = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>);
        const Music = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>);
        const Share2 = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>);
        const FlaskConical = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"/><path d="M8.5 2h7"/><path d="M7 16h10"/></svg>);
        const Check = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"/></svg>);
        const RefreshCw = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>);
        const GitCommit = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="4"/><line x1="1.05" x2="8" y1="12" y2="12"/><line x1="16" x2="22.95" y1="12" y2="12"/></svg>);
        const XCircle = ({ size = 14, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" x2="9" y1="9" y2="15"/><line x1="9" x2="15" y1="9" y2="15"/></svg>);

        // --- Mock Data ---
        const mockData = [
            { category: 'Prifile', pickup: '-', imageUrl: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=1000&auto=format&fit=crop', name: '„ÅÆ„Åç üå≥', message: 'GithubPages„Å®GAS„Åß„Ç¢„Éó„É™ÈñãÁô∫‰∏≠ üß™', appUrl: '-' },
            { category: 'X', pickup: '-', imageUrl: '', name: '-', message: '-', appUrl: 'https://twitter.com' },
            { category: 'Tiktok', pickup: '-', imageUrl: '', name: '-', message: '-', appUrl: 'https://tiktok.com' },
            { category: 'instagram', pickup: '-', imageUrl: '', name: '-', message: '-', appUrl: 'https://instagram.com' },
            { category: '„ÉÑ„Ç§„Ç≠„É£„Çπ', pickup: '-', imageUrl: '', name: '-', message: '-', appUrl: 'https://twitcasting.tv' },
            { category: 'aikoÈñ¢ÈÄ£', pickup: '1', imageUrl: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=800&auto=format&fit=crop', name: 'Love Like Data Base', message: 'aiko„ÅÆÊ•ΩÊõ≤„Éá„Éº„Çø„Éô„Éº„Çπ', appUrl: '#' },
            { category: '„Åù„ÅÆ‰ªñ', pickup: '1', imageUrl: 'https://images.unsplash.com/photo-1555212697-194d092e3b8f?q=80&w=800&auto=format&fit=crop', name: 'ÈÉ®Â±ã„ÅÆ‰∏≠„ÅÆÂ•≥„ÅÆÂ≠ê', message: 'ARÊé¢Á¥¢„Ç≤„Éº„É†', appUrl: '#' },
        ];

        // --- Loading Component ---
        const LoadingScreen = () => {
            const messages = [
                "Loading...",
                "„Åù„Çå„Åæ„ÅßÊ∞óÈï∑„Å´ÂæÖ„Å§„Å®„Åó„Çà„ÅÜ„Åã",
                "ÂçÅÂπ¥„Åß„ÇÇ",
                "‰∫åÂçÅÂπ¥„Åß„ÇÇ",
                "„Åö„Å£„Å®„Åö„Å£„Å®„Åö„Å£„Å®",
                "ÂæÖ„Å°„Åæ„Åó„Çá„ÅÜ"
            ];
            const [index, setIndex] = useState(0);

            useEffect(() => {
                const interval = setInterval(() => {
                    setIndex((prev) => (prev + 1) % messages.length);
                }, 2000);
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="flex flex-col h-screen items-center justify-center bg-[#faf9f6] text-stone-500">
                    <div className="mb-4">
                        <FlaskConical size={32} className="text-rose-400 animate-bounce" />
                    </div>
                    <div className="h-6 overflow-hidden relative w-full text-center px-4">
                        <p key={index} className="text-sm font-medium animate-text-cycle absolute w-full left-0">
                            {messages[index]}
                        </p>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [loading, setLoading] = useState(true);
            const [profile, setProfile] = useState(null);
            const [socials, setSocials] = useState([]);
            const [pickups, setPickups] = useState([]);
            const [apps, setApps] = useState([]);
            const [categories, setCategories] = useState([]); 
            const [activeTab, setActiveTab] = useState('');
            const [copied, setCopied] = useState(false);
            
            // Modal
            const [showCommit, setShowCommit] = useState(false);
            const [commitData, setCommitData] = useState(null);
            const [commitLoading, setCommitLoading] = useState(false);

            // Pull to Refresh
            const [pullStartY, setPullStartY] = useState(0);
            const [pullDistance, setPullDistance] = useState(0);
            const [isRefreshing, setIsRefreshing] = useState(false);

            // --- Logic ---
            const fetchSheetData = async () => {
                let rawData = mockData;
                if (GAS_API_URL) {
                    try {
                        const response = await fetch(GAS_API_URL);
                        const json = await response.json();
                        if (json && json.length > 0) {
                            rawData = json;
                        }
                    } catch (error) {
                        console.error("GASÂèñÂæó„Ç®„É©„Éº", error);
                    }
                }
                processData(rawData);
            };

            const fetchCommitData = async () => {
                setCommitLoading(true);
                try {
                    const res = await fetch(`https://api.github.com/repos/${GITHUB_REPO}/commits?per_page=1`);
                    if (res.ok) {
                        const json = await res.json();
                        if (json && json.length > 0) {
                            setCommitData({
                                message: json[0].commit.message,
                                date: new Date(json[0].commit.author.date).toLocaleString('ja-JP'),
                                author: json[0].commit.author.name,
                                url: json[0].html_url
                            });
                        }
                    }
                } catch (e) {
                    console.error("GitHub API Error", e);
                }
                setCommitLoading(false);
            };

            useEffect(() => {
                const init = async () => {
                    await fetchSheetData();
                    setTimeout(() => setLoading(false), 2000); 
                };
                init();
            }, []);

            const processData = (rawData) => {
                const APP_SECTION_START_KEY = 'aikoÈñ¢ÈÄ£';
                let isAppSection = false;
                let tempSocials = [];
                let tempApps = [];
                let tempProfile = null;

                rawData.forEach(row => {
                    const cleanRow = { ...row, imageUrl: convertDriveUrl(row.imageUrl) };
                    if (cleanRow.category === 'Prifile' || cleanRow.category === 'Profile') {
                        tempProfile = cleanRow; return;
                    }
                    if (cleanRow.category === APP_SECTION_START_KEY) { isAppSection = true; }
                    if (isAppSection) { tempApps.push(cleanRow); } else { tempSocials.push(cleanRow); }
                });

                // Web Clip Icon Update
                if (tempProfile && tempProfile.imageUrl) {
                    const iconLink = document.getElementById('app-icon');
                    if (iconLink) {
                        iconLink.href = tempProfile.imageUrl;
                        // Head„Å´ÂÜçÊåøÂÖ•„Åó„Å¶ÂèçÊò†„Çí‰øÉ„Åô
                        document.head.removeChild(iconLink);
                        document.head.appendChild(iconLink);
                    }
                }

                const tempPickups = tempApps.filter(d => String(d.pickup) === '1');
                const uniqueCategories = [...new Set(tempApps.map(app => app.category))];

                setProfile(tempProfile);
                setSocials(tempSocials);
                setApps(tempApps);
                setPickups(tempPickups);
                setCategories(uniqueCategories);
                if (!activeTab && uniqueCategories.length > 0) setActiveTab(uniqueCategories[0]);
            };

            // --- Pull to Refresh ---
            const handleTouchStart = (e) => { 
                if (window.scrollY <= 0) setPullStartY(e.touches[0].clientY); 
            };
            const handleTouchMove = (e) => {
                if (pullStartY > 0 && window.scrollY <= 0 && !isRefreshing) {
                    const currentY = e.touches[0].clientY;
                    const diff = currentY - pullStartY;
                    if (diff > 0) {
                        setPullDistance(diff * 0.4); 
                        // ChromeÁ≠â„Åß„ÅÆ„Éó„É´„É™„É≠„Éº„ÉâÁÑ°ÂäπÂåñ„ÅØCSS„ÅÆoverscroll-behavior„ÅßÂà∂Âæ°
                    }
                }
            };
            const handleTouchEnd = async () => {
                if (!isRefreshing && pullDistance > 60) {
                    setIsRefreshing(true);
                    setPullDistance(60); 
                    await fetchSheetData(); 
                    setTimeout(() => {
                        setIsRefreshing(false);
                        setPullDistance(0);
                        setPullStartY(0);
                    }, 800);
                } else {
                    setPullDistance(0);
                    setPullStartY(0);
                }
            };

            const getSocialIcon = (category) => {
                const c = category.toLowerCase();
                if (c === 'x') return <XIcon size={12} />;
                if (c === 'instagram') return <Instagram size={14} />;
                if (c === 'tiktok') return <Music size={14} />;
                if (c === '„ÉÑ„Ç§„Ç≠„É£„Çπ') return <TwitCastingIcon size={14} />;
                return <ExternalLink size={14} />;
            };

            const getSocialColor = (category) => {
                const c = category.toLowerCase();
                if (c === 'x') return 'bg-stone-800 text-white';
                if (c === 'instagram') return 'bg-gradient-to-tr from-amber-200 via-rose-300 to-purple-300 text-white';
                if (c === 'tiktok') return 'bg-stone-800 text-white';
                if (c === '„ÉÑ„Ç§„Ç≠„É£„Çπ') return 'bg-[#0295db] text-white';
                return 'bg-stone-200 text-stone-600';
            };

            const handleShare = async () => {
                if (navigator.share) {
                    try { await navigator.share({ title: '„ÅÆ„Åçüå≥„É©„Éú', url: window.location.href }); } catch (err) {}
                } else {
                    navigator.clipboard.writeText(window.location.href);
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                }
            };

            const handleProfileClick = () => {
                setShowCommit(true);
                fetchCommitData();
            };

            if (loading) return <LoadingScreen />;
            if (!profile) return <div className="flex h-screen items-center justify-center text-stone-400">Data Error</div>;

            const displayedApps = apps.filter(app => app.category === activeTab);

            return (
                <div 
                    className="min-h-screen font-sans text-stone-600 selection:bg-rose-200 selection:text-rose-900"
                    onTouchStart={handleTouchStart}
                    onTouchMove={handleTouchMove}
                    onTouchEnd={handleTouchEnd}
                >
                    {/* Background */}
                    <div className="fixed inset-0 z-0 overflow-hidden pointer-events-none">
                        <div className="absolute -top-20 -left-20 w-96 h-96 bg-rose-200/40 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob"></div>
                        <div className="absolute top-0 -right-20 w-96 h-96 bg-amber-100/60 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"></div>
                        <div className="absolute -bottom-32 left-20 w-96 h-96 bg-blue-100/50 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob animation-delay-4000"></div>
                    </div>

                    {/* Refresh Indicator */}
                    <div 
                        className="fixed top-0 left-0 right-0 z-[60] flex justify-center pointer-events-none transition-all duration-300 ease-out"
                        style={{ 
                            transform: `translateY(${pullDistance > 0 ? pullDistance - 40 : -40}px)`,
                            opacity: pullDistance > 0 ? 1 : 0
                        }}
                    >
                        <div className={`w-8 h-8 rounded-full bg-white shadow-md flex items-center justify-center border border-rose-100 ${isRefreshing ? 'animate-spin-fast' : ''} transition-transform duration-300`}
                             style={{ transform: !isRefreshing && pullDistance < 60 ? `rotate(${pullDistance * 5}deg)` : '' }}
                        >
                            <RefreshCw size={16} className={`text-rose-400 ${isRefreshing ? '' : ''}`} />
                        </div>
                    </div>

                    <div 
                        className="relative z-10 max-w-md mx-auto min-h-screen flex flex-col pb-6 shadow-xl shadow-stone-200/50 bg-white/40 backdrop-blur-md border-x border-white/50 transition-transform duration-300 ease-out"
                        style={{ transform: `translateY(${pullDistance * 0.3}px)` }} 
                    >
                        {/* Header */}
                        <header className="sticky top-0 z-50 px-4 flex flex-row items-center gap-3 border-b border-stone-100 bg-white/80 backdrop-blur-xl transition-all h-[56px]">
                            <div className="relative group shrink-0 cursor-pointer active:scale-95 transition-transform" onClick={handleProfileClick}>
                                <div className="absolute -inset-1 bg-gradient-to-tr from-rose-200 to-amber-200 rounded-full opacity-0 group-hover:opacity-100 transition duration-500 blur-[4px]"></div>
                                <img src={profile.imageUrl} alt={profile.name} className="relative w-9 h-9 rounded-full object-cover ring-2 ring-white shadow-sm" referrerPolicy="no-referrer" />
                            </div>
                            <div className="flex-1 min-w-0 flex flex-col justify-center select-none pl-1">
                                <div className="flex items-center justify-between">
                                    <div className="flex items-center gap-1.5">
                                        <FlaskConical size={14} className="text-rose-400 fill-rose-100" />
                                        <h1 className="text-sm font-bold tracking-wide text-stone-700">„ÅÆ„Åçüå≥„É©„Éú</h1>
                                    </div>
                                    {/* SNS Links (Fix: Added z-index and click area) */}
                                    <div className="flex gap-2 relative z-10">
                                        {socials.map((sns, idx) => (
                                            <a key={idx} href={sns.appUrl || '#'} target="_blank" rel="noopener noreferrer" className={`rounded-full transition hover:scale-110 active:scale-95 flex items-center justify-center ${getSocialColor(sns.category)} opacity-90 hover:opacity-100 shadow-sm`} style={{ width: '22px', height: '22px' }}>
                                                {getSocialIcon(sns.category)}
                                            </a>
                                        ))}
                                    </div>
                                </div>
                                <p className="text-[10px] text-stone-400 truncate mt-0.5 leading-none">{profile.message}</p>
                            </div>
                            <button onClick={handleShare} className="p-2 ml-1 rounded-full hover:bg-stone-100 transition-colors relative text-stone-400">
                                {copied ? <Check size={20} className="text-green-500" /> : <Share2 size={20} />}
                            </button>
                        </header>

                        {/* Pickup Section (Design Changed) */}
                        {pickups.length > 0 && (
                            <section className="mt-6 mb-2">
                                <div className="flex overflow-x-auto px-4 pb-4 gap-4 snap-x snap-mandatory hide-scrollbar">
                                    {pickups.map((app, idx) => (
                                        <a key={idx} href={app.appUrl} target="_blank" rel="noopener noreferrer" className="snap-center shrink-0 w-[70vw] max-w-[280px] group block">
                                            {/* ÁîªÂÉèÈÉ®ÂàÜ */}
                                            <div className="relative aspect-[3/4] overflow-hidden rounded-2xl shadow-sm border border-stone-200 bg-white transition-all duration-300 group-hover:shadow-md">
                                                <img src={app.imageUrl} alt={app.name} className="w-full h-full object-cover transition duration-700 group-hover:scale-105" referrerPolicy="no-referrer" />
                                                <div className="absolute top-3 left-3">
                                                    <span className="px-2.5 py-1 text-[10px] font-bold text-rose-600 bg-white/90 backdrop-blur-sm rounded-full shadow-sm">PICKUP</span>
                                                </div>
                                            </div>
                                            {/* „ÉÜ„Ç≠„Çπ„ÉàÈÉ®ÂàÜÔºàÁîªÂÉè„ÅÆ‰∏ã„Å´ÁßªÂãïÔºâ */}
                                            <div className="pt-2 px-1">
                                                <h3 className="text-sm font-bold text-stone-700 leading-tight mb-1 line-clamp-1 group-hover:text-rose-500 transition-colors">{app.name}</h3>
                                                <p className="text-[10px] text-stone-400 line-clamp-1">{app.message}</p>
                                            </div>
                                        </a>
                                    ))}
                                </div>
                            </section>
                        )}

                        {/* App List */}
                        <section className="px-4 flex-1 flex flex-col">
                            <div className="sticky top-[56px] z-40 bg-[#faf9f6]/95 backdrop-blur-xl -mx-4 px-4 py-3 mb-4 border-b border-stone-100/50">
                                <div className="flex items-center gap-2 overflow-x-auto hide-scrollbar">
                                    {categories.map((cat) => (
                                        <button key={cat} onClick={() => setActiveTab(cat)} className={`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all duration-300 border ${activeTab === cat ? 'bg-stone-700 text-white border-stone-700 shadow-md shadow-stone-200' : 'bg-white text-stone-500 border-stone-200 hover:bg-stone-100 hover:text-stone-600'}`}>
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4 pb-12">
                                {displayedApps.map((app, idx) => (
                                    <a key={`${activeTab}-${idx}`} href={app.appUrl} target="_blank" rel="noopener noreferrer" className="group relative flex flex-col bg-white rounded-xl overflow-hidden border border-stone-100 shadow-sm hover:shadow-md hover:border-rose-200 transition-all duration-300 active:scale-95 animate-fadeIn">
                                        <div className="aspect-[16/9] w-full overflow-hidden bg-stone-100 relative border-b border-stone-100">
                                            <img src={app.imageUrl} alt={app.name} className="w-full h-full object-cover transition duration-500 group-hover:scale-105" referrerPolicy="no-referrer" />
                                            <div className="absolute inset-0 bg-rose-500/0 group-hover:bg-rose-500/10 transition duration-300"></div>
                                        </div>
                                        <div className="p-3 flex flex-col flex-1 bg-white">
                                            <h3 className="text-xs font-bold text-stone-700 line-clamp-2 mb-1 group-hover:text-rose-500 transition-colors">{app.name}</h3>
                                            <p className="text-[10px] text-stone-400 line-clamp-2 mt-auto">{app.message}</p>
                                        </div>
                                        <div className="absolute top-2 right-2 bg-white/80 backdrop-blur-sm p-1 rounded-full opacity-0 group-hover:opacity-100 transition translate-y-1 group-hover:translate-y-0 shadow-sm text-stone-600">
                                            <ExternalLink size={10} />
                                        </div>
                                    </a>
                                ))}
                                {displayedApps.length === 0 && <div className="col-span-2 text-center py-12 text-stone-400 text-xs">No apps found.</div>}
                            </div>
                        </section>
                        
                        <footer className="mt-auto text-center text-[10px] text-stone-400 pb-8 pt-12"><p>¬© {new Date().getFullYear()} NOKI LAB</p></footer>
                    
                        {/* Commit Modal */}
                        {showCommit && (
                            <div className="fixed inset-0 z-[70] flex items-center justify-center p-4 animate-fadeIn">
                                <div className="absolute inset-0 bg-black/30 backdrop-blur-sm" onClick={() => setShowCommit(false)}></div>
                                <div className="relative w-full max-w-xs bg-white rounded-2xl p-5 shadow-2xl">
                                    <button onClick={() => setShowCommit(false)} className="absolute top-3 right-3 p-1 rounded-full hover:bg-stone-100 text-stone-400">
                                        <XCircle size={20} />
                                    </button>
                                    
                                    <div className="flex items-center gap-2 mb-3 text-stone-800">
                                        <GitCommit size={18} className="text-rose-400" />
                                        <h3 className="font-bold text-sm">Latest Update</h3>
                                    </div>

                                    {commitLoading ? (
                                        <div className="py-8 text-center text-xs text-stone-400">Loading commit log...</div>
                                    ) : commitData ? (
                                        <div className="text-xs text-stone-600">
                                            <p className="mb-2 font-bold leading-relaxed">{commitData.message}</p>
                                            <div className="flex flex-col gap-1 text-[10px] text-stone-400 mt-3 pt-3 border-t border-stone-100">
                                                <span>üìÖ {commitData.date}</span>
                                                <span>üë§ {commitData.author}</span>
                                            </div>
                                            <a href={commitData.url} target="_blank" rel="noopener noreferrer" className="block mt-3 text-center py-2 bg-stone-100 rounded-lg text-[10px] font-bold text-stone-600 hover:bg-stone-200 transition">
                                                GitHub„ÅßË¶ã„Çã
                                            </a>
                                        </div>
                                    ) : (
                                        <div className="py-4 text-center text-xs text-stone-400">Log not found.</div>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
